---
import MainLayout from '../../layouts/MainLayout.astro';
import TableOfContents from '../../components/TableOfContents.astro';
import PageMetadata from '../../components/PageMetadata.astro';
import { base } from '../../utils/constants';

const metadata = {
  tags: ['software', 'research', 'writing'],
  dateCreated: '2025-05-09',
  dateUpdated: '2025-05-10',
  description: "Sites I use; things I've worked on;",
};

// Breadcrumb items for About page
const breadcrumbItems = [
  {
    title: 'About',
    url: `${base}about`,
    isCurrent: true,
  },
];

const sections = [
  {
    id: 'personal',
    title: 'Personal',
    subsections: [
      {
        id: 'work',
        title: 'Work',
        subsections: [
          {
            id: 'projects',
            title: 'Projects',
          },
        ],
      },
      { id: 'websites', title: 'Websites' },
      {
        id: 'uses-this',
        title: 'Uses This',
        subsections: [
          { id: 'software', title: 'Software' },
          { id: 'hardware', title: 'Hardware' },
        ],
      },
    ],
  },
  {
    id: 'contact',
    title: 'Contact',
  },
  {
    id: 'collaboration-style',
    title: 'Collaboration Style',
  },
];
---

<MainLayout
  title="About Me"
  description={metadata.description}
  breadcrumbItems={breadcrumbItems}
>
  <div class="max-w-4xl mx-auto">
    {/* Page Title and Metadata */}
    <div class="mb-12">
      <h1 class="text-4xl font-bold text-center mb-4">ABOUT CHIZUBO</h1>
      <PageMetadata {...metadata} />
    </div>

    {/* Mobile-First Layout: Stack on mobile, side-by-side on desktop */}
    <div class="flex flex-col lg:flex-row lg:gap-8 relative">
      {/* Mobile ToC Toggle Button */}
      <div class="lg:hidden mb-6">
        <button
          id="toc-toggle"
          class="w-full flex items-center justify-between px-4 py-3 bg-gray-100 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"
          aria-expanded="false"
          aria-controls="mobile-toc"
        >
          <span class="font-medium text-gray-900 dark:text-gray-100"
            >Table of Contents</span
          >
          <svg
            class="w-5 h-5 text-gray-500 transition-transform duration-200"
            id="toc-chevron"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>

        {/* Mobile ToC Dropdown */}
        <div
          id="mobile-toc"
          class="hidden mt-3 p-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg"
        >
          <TableOfContents sections={sections} />
        </div>
      </div>

      {/* Desktop ToC Sidebar */}
      <aside
        class="hidden lg:block lg:w-64 lg:flex-shrink-0 lg:sticky lg:top-8 lg:self-start"
      >
        <div
          class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"
        >
          <TableOfContents sections={sections} />
        </div>
      </aside>

      {/* Main Content - Full width on mobile, flex-1 on desktop */}
      <main class="w-full lg:flex-1">
        {/* Initial Description */}
        <div class="mb-12">
          <p class="text-lg text-gray-600 dark:text-gray-400">
            This page is about me;
          </p>
        </div>

        {/* PERSONAL section with mobile-friendly right alignment */}
        <section id="personal" class="mb-16">
          <h2 class="text-right text-2xl sm:text-3xl font-bold mb-8 pr-4">
            PERSONAL
          </h2>
          <div class="border-t border-gray-300 dark:border-gray-700 my-4"></div>

          {/* Quote section with mobile-responsive padding */}
          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "If you are rich and sophisticated, but not too rich or too
            sophisticated, then you are in the sweet spot for a lot of people
            who want to market complicated, expensive, terrible financial
            products to you."
            <footer class="mt-2 text-sm">
              — Matt Levine; Look Like a Loser, Then Win, Bloomberg Opinion
            </footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "So who should you decide to be? We can turn to modern science for
            the answer: Be you on the best day. So when making tough choices,
            think about whether what you plan to do is aligned with the "you"
            you're most proud of. And don't worry about seeming inauthentic
            either. When you act like your best self, you end up showing people
            what you're really like"
            <footer class="mt-2 text-sm">— I forgot</footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "The purpose of models is not to fit the data but to sharpen the
            questions."
            <footer class="mt-2 text-sm">— Samuel Karlin;</footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "If the error rate you see is low, the error rate you don't see is
            high."
            <footer class="mt-2 text-sm">
              — David R. Maclver; There's no single error rate
            </footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "Point of view is worth 80 IQ points"
            <footer class="mt-2 text-sm">
              — Alan Kay; Creative Think Seminar 1982
            </footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "If there's one thing to get excited, thats it: Get excited over
            your ability to make yourself do the necessary things. Get excited
            over the little disciplines and get right on those because those
            will lead to the big ones. You can't handle the big challenges in
            life unless you take on the little ones. Make a list of the things
            you can do, get right on those, discipline yourself for those; both
            for the result, and for the muscle, and for the practice. So that
            when life hands you some big challenges you'll be ready, you'll have
            the muscle. Don't let your learning lead to knowledge, you'll become
            a fool. Let your learning lead to action. Step number 3, is just a
            little caution, and all through life, we need a little caution. This
            one simply says: Don't try to beat the system. Find out how it
            works. Work it. Find out how it works best, and do it that way. Even
            though it seems to take a little longer, do it right, don't
            compromise on right."
            <footer class="mt-2 text-sm">
              — Jim Rohn; Challenge to Succeed Seminar 1981
            </footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "Anything that's human is mentionable and anything mentionable is
            manageable. When we can talk about our feelings, they become less
            overwhelming, less upsetting, and less scary. The people that we
            trust with that important talk can help us know that"
            <footer class="mt-2 text-sm">
              - Fred Rogers; Testification before Congress 1969
            </footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "When we list our strengths, we tend to list our areas of existing
            skill more than anything else. Instead, strengths should be all
            about pace and persistence qualities. Originality or lack thereof
            should be a critical component of the discussion, making qualities
            like agility and humility (trademark chef traits) notable strengths,
            and qualities like stubbornness or intellectual laziness (classic
            cook traits) important weaknesses. The subtleties of work ethic,
            like a knack for deep focus or a propensity to procrastinate, should
            also be a major part of the discussion, as should natural abilities
            beyond talent, like savvy and likability. Qualities related to
            persistence, like resilience and determination and patience, should
            be thought of as promising strengths, while a social tentacle
            clamoring to appear successful as quickly as possible should be
            viewed as a bright red flag."
            <footer class="mt-2 text-sm">— Tim Urban; Picking Career</footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "The limits of my language means the limits of my world."
            <footer class="mt-2 text-sm">
              — Ludwig Wittgenstein, Tractus Logico-Philosophicus (1922)
            </footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "I’ve noticed in a long lifetime that the people who really love you
            are the people where you scramble together with difficulty and
            you’ve jointly gotten through. And in the end, those people will
            love you more than somebody who just shared in an even prosperity
            through the whole thing. So this adversity that seems so awful when
            you’re scrambling through, actually is the sinecure of your success,
            your affection, every other damn thing. The idea that life is a
            series of adversities and each one is an opportunity to behave well
            instead of badly is a very, very, good idea. And it works so well in
            old age because you get so many adversities you can’t fix. So you
            better have some technique for welcoming those adversities."
            <footer class="mt-2 text-sm">— Charlie Munger</footer>
          </blockquote>

          <blockquote
            class="italic text-gray-600 dark:text-gray-400 pl-4 sm:pl-8 border-l-4 border-gray-300 dark:border-gray-700 my-8"
          >
            "In fact, I would go so far as to argue that if you want to be
            effective, you don’t have to hold extremely coherent and true
            beliefs about the world. You simply have to figure out what works
            for you through actual application, and if that is helpful to you,
            you may keep it as part of your arsenal as you move on to the next
            challenge in your life."
            <footer class="mt-2 text-sm">
              - Cedric Chin; Practice as the bar for Truth, Common Cog
            </footer>
          </blockquote>

          {/* Subsections within Personal */}
          <section id="work" class="mt-12 mb-8">
            <h3 class="text-left text-xl sm:text-2xl font-bold mb-6">WORK</h3>
            <div class="border-t border-gray-300 dark:border-gray-700 my-4">
            </div>

            <section id="projects" class="mt-8 mb-6">
              <h4 class="text-left text-lg sm:text-xl font-semibold mb-4">
                Projects
              </h4>
              <p class="text-gray-600 dark:text-gray-400">
                Details about my current and past projects...
              </p>
            </section>
          </section>

          <section id="websites" class="mb-8">
            <h3 class="text-left text-xl sm:text-2xl font-bold mb-6">
              Presence
            </h3>
            <div class="border-t border-gray-300 dark:border-gray-700 my-4">
            </div>
            <p class="text-gray-600 dark:text-gray-400">...</p>
          </section>

          <section id="uses-this" class="mb-8">
            <h3 class="text-left text-xl sm:text-2xl font-bold mb-6">
              Uses this
            </h3>
            <div class="border-t border-gray-300 dark:border-gray-700 my-4">
            </div>

            <section id="software" class="mt-8 mb-6">
              <h4 class="text-left text-lg sm:text-xl font-semibold mb-4">
                Software
              </h4>
              <p class="text-gray-600 dark:text-gray-400">- Obsidian</p>
            </section>

            <section id="hardware" class="mt-8 mb-6">
              <h4 class="text-left text-lg sm:text-xl font-semibold mb-4">
                Hardware
              </h4>
              <p class="text-gray-600 dark:text-gray-400">- MacBook M4</p>
            </section>
          </section>
        </section>

        {/* CONTACT section */}
        <section id="contact" class="mb-16">
          <h2 class="text-left text-2xl sm:text-3xl font-bold mb-8">Contact</h2>
          <div class="border-t border-gray-300 dark:border-gray-700 my-4"></div>
          <p class="text-gray-600 dark:text-gray-400"></p>
        </section>

        {/* COLLABORATION STYLE section */}
        <section id="collaboration-style" class="mb-16">
          <h2 class="text-left text-2xl sm:text-3xl font-bold mb-8">
            Collaboration Style
          </h2>
          <div class="border-t border-gray-300 dark:border-gray-700 my-4"></div>
          <p class="text-gray-600 dark:text-gray-400">...</p>
        </section>
      </main>
    </div>
  </div>

  <script>
    // Mobile ToC Toggle Functionality
    const tocToggle = document.getElementById('toc-toggle');
    const mobileToc = document.getElementById('mobile-toc');
    const tocChevron = document.getElementById('toc-chevron');

    if (tocToggle && mobileToc && tocChevron) {
      tocToggle.addEventListener('click', () => {
        const isExpanded = tocToggle.getAttribute('aria-expanded') === 'true';

        // Toggle visibility
        mobileToc.classList.toggle('hidden');

        // Update ARIA state
        tocToggle.setAttribute('aria-expanded', (!isExpanded).toString());

        // Rotate chevron
        if (isExpanded) {
          tocChevron.style.transform = 'rotate(0deg)';
        } else {
          tocChevron.style.transform = 'rotate(180deg)';
        }
      });
    }

    // Enhanced section highlighting functionality
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll(
      'aside nav a, #mobile-toc nav a'
    );

    function updateActiveSection() {
      let currentSection = '';

      sections.forEach(section => {
        const htmlElement = section as HTMLElement;
        const sectionTop = htmlElement.offsetTop;
        const sectionHeight = htmlElement.clientHeight;
        const scrollPosition = window.scrollY + 100; // Add offset for header

        if (
          scrollPosition >= sectionTop &&
          scrollPosition < sectionTop + sectionHeight
        ) {
          currentSection = section.getAttribute('id') || '';
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        const href = link.getAttribute('href');
        if (href === `#${currentSection}`) {
          link.classList.add('active');
        }
      });
    }

    // Smooth scroll for ToC links
    navLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const href = link.getAttribute('href');
        if (!href) return;

        const targetId = href.substring(1);
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start',
          });

          // Close mobile ToC after clicking a link
          if (mobileToc && !mobileToc.classList.contains('hidden')) {
            mobileToc.classList.add('hidden');
            if (tocToggle) {
              tocToggle.setAttribute('aria-expanded', 'false');
            }
            if (tocChevron) {
              tocChevron.style.transform = 'rotate(0deg)';
            }
          }
        }
      });
    });

    window.addEventListener('scroll', updateActiveSection);
    // Call once to set initial state
    updateActiveSection();
  </script>

  <style>
    /* Mobile-responsive styles */
    @media (max-width: 1023px) {
      .metadata-container {
        max-width: 100%;
        margin: 0;
      }
    }

    /* Ensure smooth ToC transitions */
    #mobile-toc {
      transition: all 0.3s ease-in-out;
    }

    #toc-chevron {
      transition: transform 0.2s ease-in-out;
    }

    /* Section scroll margin for proper anchoring */
    section[id] {
      scroll-margin-top: 2rem;
    }

    /* Enhanced active link styling */
    nav a.active {
      background-color: var(--toc-hover-bg);
      font-weight: 600;
      color: var(--link-active);
    }
  </style>
</MainLayout>
